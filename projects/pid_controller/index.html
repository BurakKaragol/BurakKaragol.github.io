<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PID Mouse Follower</title>
  <link rel="stylesheet" href="./pid_controller.css" />
</head>
<body>
  <header class="app-header">
    <h1>PID Mouse Follower</h1>
    <div class="sub">Click toggles fixed/follow. Double-click or press â€˜Câ€™ to recenter.</div>
  </header>

  <main class="layout">
    <!-- LEFT: Controls -->
    <section class="panel controls no-scroll">
      <div class="group">
        <div class="row">
          <label>Kp</label>
          <input id="kp" type="range" min="0" max="20" step="0.01" value="8.0">
          <input id="kp_num" class="num" type="number" min="0" max="20" step="0.01" value="8.0">
        </div>
        <div class="row">
          <label>Ki</label>
          <input id="ki" type="range" min="0" max="10" step="0.01" value="0.0">
          <input id="ki_num" class="num" type="number" min="0" max="10" step="0.01" value="0.0">
        </div>
        <div class="row">
          <label>Kd</label>
          <input id="kd" type="range" min="0" max="10" step="0.01" value="2.2">
          <input id="kd_num" class="num" type="number" min="0" max="10" step="0.01" value="2.2">
        </div>
        <div class="row">
          <label>Derivative filter Ï„<sub>d</sub> (s)</label>
          <input id="tf" class="num wide" type="number" min="0" step="0.001" value="0.02">
        </div>
        <div class="row">
          <label>Integrator clamp Â±</label>
          <input id="iclamp" class="num wide" type="number" min="0" step="0.1" value="500">
        </div>
      </div>

      <div class="buttons">
        <button id="preset_soft"   data-preset="soft"   class="preset-btn">Soft</button>
        <button id="preset_glide"  data-preset="glide"  class="preset-btn">Glide</button>
        <button id="preset_snappy" data-preset="snappy" class="preset-btn">Snappy</button>
        <button id="preset_aggr"   data-preset="aggr"   class="preset-btn">Aggressive</button>
        <button id="preset_lazy"   data-preset="lazy"   class="preset-btn">Lazy</button>
        <button id="preset_osc"    data-preset="osc"    class="preset-btn">Oscillatory</button>
        <button id="randomize">ðŸŽ² Randomize</button>
        <button id="reset">Reset</button>
      </div>

      <div class="buttons">
        <button id="pattern_circle" class="pattern-btn">Circle</button>
        <button id="pattern_square" class="pattern-btn">Square</button>
        <button id="pattern_triangle" class="pattern-btn">Triangle</button>
        <button id="pattern_infinity" class="pattern-btn">âˆž Infinity</button>
      </div>
    </section>

    <!-- RIGHT: Canvas -->
    <section class="panel viz">
      <canvas id="stage" width="1200" height="700"></canvas>
      <div class="info">
        <div id="status"></div>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <span>Try presets or randomize PID values. Circle chases target with 2D PID control.</span>
  </footer>

  <script src="./pid_controller.js"></script>
</body>
</html>
